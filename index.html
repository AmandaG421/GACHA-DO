<!DOCTYPE html>
<html lang="en">
<head>
    <title>GACHA-DO</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main">
        <div class="navbar">
            <!-- LOGO -->
            <div class="icon">
                <a href="#"><h2 class="logo"><img src="gacha_do.png" alt="GACHA-DO" width=85% height=85%></h2></a>
            </div>  
            
            <!-- SCORE -->
            <p>Score: <span id="score">1</span></p>

            <!-- TABS -->
            <div class="tab">
                <ul>
                    <li><a href="#" class="tablinks" onclick="openTab(event, 'TO-DO')" id="defaultOpen">TO-DO</a></li>
                    <li><a href="#" class="tablinks" onclick="openTab(event, 'GACHA')">GACHA</a></li>
                    <li><a href="#" class="tablinks" onclick="openTab(event, 'AQUARIUM')">AQUARIUM</a></li>
                </ul>
            </div>
            
            <!-- TO-DO PAGE -->
            <div id="TO-DO" class="tabcontent">                
                <h3>TODO</h3>
                <input type="text" id="myInput" placeholder="Today I will...">
                <span onclick="newElement()" class="addBtn">Add</span>

                <ul1 id="myUL">
                    <li1 class="checked">Visit GACHA-DO!</li1>
                    <li1>Make a task!</li1>
                </ul1>
    
                <script>
                    // Increases score
                    function increaseScore() {
                        score++;
                        scoreElement.textContent = score;
                    }

                    function decreaseScore() {
                        score -= 1
                        scoreElement.textContent = score;
                    }

                    // Create close button
                    var myNodelist = document.getElementsByTagName("LI1");
                    for (var i=0; i < myNodelist.length; i++) {
                        var span = document.createElement("SPAN");
                        var txt = document.createTextNode("\u00D7");
                        span.className = "close";
                        span.appendChild(txt);
                        myNodelist[i].appendChild(span);
                    }
                    
                    // Makes close button function
                    var close = document.getElementsByClassName("close");
                    for (var i=0; i < close.length; i++) {
                        close[i].onclick = function() {
                            var div = this.parentElement;
                            div.style.display = "none";                            
                        }
                        
                    }
                    
                    // Creates checkmark when clicking task
                    var list = document.querySelector("ul1");
                    list.addEventListener('click', function(ev) {
                        if (ev.target.tagName === "LI1") {
                            ev.target.classList.toggle("checked");
                        
                        // Increase or decrease score when item is checked/unchecked
                        if (ev.target.classList.contains("checked")) {
                            increaseScore();
                        }
                        else {
                            decreaseScore();
                        }
                        }
                    }, false);
                    
                    // Creates new task when clicking the add button
                    function newElement() {
                        var li1 = document.createElement("li1");
                        var inputValue = document.getElementById("myInput").value;
                        var t = document.createTextNode(inputValue);
                        li1.appendChild(t);
                        if (inputValue == "") {
                        alert("Write something pls!");
                        } else {
                        document.getElementById("myUL").appendChild(li1);
                        }
                        document.getElementById("myInput").value = "";
                        var span = document.createElement("SPAN");
                        var txt = document.createTextNode("\u00D7");
                        span.className = "close";
                        span.appendChild(txt);
                        li1.appendChild(span);
    
                        for (i = 0; i < close.length; i++) {
                            close[i].onclick = function() {
                                var div = this.parentElement;
                                div.style.display = "none";
                            }
                        }
                    }
                    // Tracking score
                    let score = 1
                    const scoreElement = document.getElementById("score");
                    </script>

            </div>

            <!-- GACHA PAGE -->
            <div id="GACHA" class="tabcontent">

                <div class="gacha">
                    <img class="image1" src="fishing_bg.jpg" alt="fishing" width="1188" height="550">
                    <img id="boat" class="image2" src="boat.png" alt="boat" width="450" height="400">
                    
                </div>
                
                

                <script type="text/javascript">
                    document.addEventListener("mousemove", moveElement);

                    function moveElement(event) {
                        document.getElementById("boat").style.left = event.clientX + "px";
                        

                    }

                </script>
                

            </div>

            <!-- AQUARIUM -->
            <div id="AQUARIUM" class="tabcontent">
                <img src="hammerhead_gray.png" draggable="true" ondragstart="drag(evt)" id="hhgry" width="10%" height="10%">
                <div id="aquarium_box" ondrop="drop(evt)" ondragover="allowDrop(evt)">
                    <img src="aquarium_temp.jpg" alt="Aquarium Box" style="width: 800px;height: 400px;">
                </div>
                <div id="fish_collection"></div>
            </div>
            
            <!-- JScript for TABS -->
            <script>
                function openTab(evt, tabName){
                    var i, tabcontent, tablinks;
                    tabcontent = document.getElementsByClassName("tabcontent")
                    for (i = 0; i < tabcontent.length; i++) {
                        tabcontent[i].style.display = "none";
                    }

                    tablinks = document.getElementsByClassName("tablinks");
                    for (i = 0; i < tablinks.length; i++) {
                        tablinks[i].className = tablinks[i].className.replace(" active", "");
                    }

                    document.getElementById(tabName).style.display = "block";
                    evt.currentTarget.className += " active";
                }
                document.getElementById("defaultOpen").click();
            </script>

            <!-- JScript for Draggable Fishies -->
            <script>
            function allowDrop(fish){
                fish.preventDefault();
            }

            function drag(fish){
                fish.dataTransfer.setData("text", fish.target.id);
            }

            function drop(fish){
                fish.preventDefault();
                var data = fish.dataTransfer.getData("text");
                fish.target.appendChild(document.getElementById(data));
            }
            </script>

        </div>
    </div>
</body>
</html>